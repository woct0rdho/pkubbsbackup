#t 35 17615461 mengfx 2020-04-07 00:22:00 story 2020-04-08 14:36:00
ä»˜è´¹è¯·å¤§ç¥å¸®å¿™è¿è¡Œlinuxç³»ç»Ÿcç¨‹åº

#p 22173964 mengfx mengfx 2020-04-07 22:48:20
ä¸‹è½½äº†githubå…¬å¼€ä»£ç ï¼Œéœ€è¦åœ¨linuxä¸Šè¿è¡Œï¼Œä½†ä¸ªäººä¸ç†Ÿæ‚‰linuxç³»ç»Ÿçš„é…ç½®ï¼Œå¯¼è‡´ç¨‹åºè¿è¡Œä¸äº†ï¼Œå¦‚ä¸‹å›¾ï¼š
è¯¥ç¨‹åºåŒ…çš„å¼€æºåœ°å€ï¼š[https://github.com/JanThorbecke/OpenSource](jump-to.php?url=https%3A%2F%2Fgithub.com%2FJanThorbecke%2FOpenSource)ï¼Œä¸Šé¢æœ‰æ“ä½œè¯´æ˜ï¼Œä½†linuxå°ç™½çš„æˆ‘å°±æ˜¯è¿è¡Œä¸äº†ã€‚ã€‚ã€‚
å¸Œæœ›å¤§ç¥å¸®å¿™æŒ‡ç‚¹ï¼Œæœ€å¥½æ˜¯åœ¨æ ¡æˆ–è€…èƒ½è¿œç¨‹æ§åˆ¶çš„ï¼Œå¸®æˆ‘èƒ½æŠŠä»£ç æˆåŠŸè¿è¡Œèµ·æ¥ã€‚ä»˜è´¹æˆ–è€…è¯·å®¢éƒ½è¡Œï¼Œè°¢è°¢ï¼Œæœ‰æ„è€…è¯·ç§ä¿¡æˆ‘ã€‚

#p 22174527 ljslcy StupidArcher 2020-04-08 00:28:51
æƒŠï¼Œä½ ç«Ÿç„¶è¿˜æ²¡æå®šğŸ˜‚
ä½ ä¹‹å‰è¯´é‚£ä¸ªåŒ…è£…ä¸Šäº†ä¹ˆ
#quote mengfx

#p 22181949 mengfx mengfx 2020-04-08 10:16:03
æ±—é¢œå•Šï¼ŒmklåŒ…è£…ä¸Šäº†ï¼Œç°åœ¨åˆå‡ºç°å…¶ä»–é—®é¢˜ï¼Œå¯¼è‡´ç¨‹åºè¿˜æ˜¯è¿è¡Œä¸äº†
#quote ljslcy

#p 22181994 ljslcy StupidArcher 2020-04-08 10:22:10
æ–°çš„é—®é¢˜æ˜¯ä»€ä¹ˆ
#quote mengfx

#p 22182621 wuruiyang é”… 2020-04-08 12:08:47
é¦–å…ˆMake_includeæŒ‰ç…§ç¬¬å››è¡Œçš„è¦æ±‚æŠŠç¬¬ä¹è¡Œçš„æ”¹äº†
ä½ çš„mklè£…åœ¨/opt/intel/mkl/å—
#quote mengfx

#p 22182663 story â˜…å°åŸè‰¾å…‹æ–¯|çŒªå¤´ä¸€ä¸ªâ˜… 2020-04-08 12:18:16
#DELETED
ä½ å…ˆå‘Šè¯‰æˆ‘æ€ä¹ˆè£… mklï¼Œ æˆ‘å¸®ä½ çœ‹çœ‹ã€‚
#quote mengfx

#p 22183419 story â˜…å°åŸè‰¾å…‹æ–¯|çŒªå¤´ä¸€ä¸ªâ˜… 2020-04-08 14:36:43


2020-04-08 14:35:39
æˆ‘åœ¨ ubuntu 18.04ä¸‹ ç»™ä½ è¯•äº†ä¸‹ï¼Œèƒ½è£…æˆï¼Œèƒ½è·‘èµ·æ¥ã€‚
ä¸»è¦æ˜¯ä¸¤ä¸ªè·¯å¾„
1ï¼‰ OpenSourceè¿™ä¸ªåŒ…çš„å®‰è£…è·¯å¾„ï¼šæˆ‘çš„ï¼ŒROOT=/home/story/Downloads/OpenSource
2ï¼‰MKLçš„å®‰è£…è·¯å¾„ï¼šæˆ‘çš„MKLROOT=/opt/intel/compilers_and_libraries/linux/mkl é€‰ç”¨çš„æ˜¯MKL 2020 Update 1ï¼Œå®‰è£…çš„æ—¶å€™æŒ‡å®šçš„å®‰è£…ç›®å½•ä¸º/opt/intel
å…¶ä»–çš„ï¼Œå°±æ˜¯ä¸€ä¸ªç¼–è¯‘å‚æ•°æœ‰ç‚¹é—®é¢˜ï¼Œä¸€ä¸ªMKLé“¾æ¥è·¯å¾„æœ‰ç‚¹é—®é¢˜Makefile_includeä¸­ï¼Œæˆ‘çš„è¿™è¡Œé•¿è¿™æ ·
```
$ diff Make_include_template Make_include -u
...
-BLAS = -L${MKLROOT}/lib/ -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -lpthread -lm -ldl
+BLAS = -L${MKLROOT}/lib/intel64_lin -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -lpthread -lm -ldl
...
```
fdelmodc/Makefileæ–‡ä»¶çš„ä¿®æ”¹
```
 #OPTC += -fopenmp -Waddress
-OPTC +=  -qopt-report=5
-#OPTC := $(subst -O3 -ffast-math, -O1 -g ,$(OPTC))
+#OPTC +=  -qopt-report=5
+OPTC := $(subst -O3 -ffast-math, -O1 -g ,$(OPTC))
 #PGI options for compiler feedback
```
æŸ¥äº†ä¸€ä¸‹ï¼Œå¥½åƒæ˜¯ icc ï¼ˆintel çš„c/c++ç¼–è¯‘å™¨ï¼‰ æ‰æ”¯æŒ -qopt-report é€‰é¡¹ï¼Œgcc çš„ä¸æ”¯æŒã€‚ BTWï¼Œ æˆ‘ç”¨çš„æ˜¯gcc 8.3ï¼Œä¸è¿‡åº”è¯¥ä¸å½±å“ã€‚å¦å¤–ï¼Œæˆ‘åªé€‰æ‹©äº†64ä½å®‰è£…ã€‚
å®Œæ•´åŒ…é“¾æ¥: [https://pan.baidu.com/s/1Tew4xe3s32EkaRZYH7pxgQ](jump-to.php?url=https%3A%2F%2Fpan.baidu.com%2Fs%2F1Tew4xe3s32EkaRZYH7pxgQ) æå–ç : 24f4
#quote mengfx

